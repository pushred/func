<p class="swatch" style={`background-color: ${backgroundColor}; color: ${getTextColor(backgroundColor)}`}>
  {name}
  {#if mixture}<strong>{mixture.method}</strong> {mixture.stop}{/if}
</p>

<style>
  .swatch {
    border-radius: 0.25em;
    padding: 0.5em 0.5em 4em 0.5em;
  }
</style>

<script>
  import chroma from 'chroma-js';

  function getTextColor(backgroundColor) {
    let whiteContrast = 0;
    let blackContrast = 0;

    try {
      whiteContrast = chroma.contrast('white', backgroundColor);
      blackContrast = chroma.contrast('black', backgroundColor);
    } catch (err) {
      console.error(err);
    }

    return whiteContrast > blackContrast
      ? 'white'
      : 'black';
  }

  export default {
    helpers: {
      getTextColor,
    },
  }
</script>
